(function(){"use strict";var e={58:function(e,t,s){var i=s(9242),a=s(3396);const r={class:"app"},n={class:"app__inner"},l={class:"data-params"},o={class:"column-select"},c=(0,a.Uk)(" Поиск по: "),d={class:"condition__select"},u=(0,a.Uk)(" Условие: "),m=(0,a.Uk)(" Значение: ");function p(e,t,s,i,p,h){const f=(0,a.up)("my-select"),g=(0,a.up)("my-input"),_=(0,a.up)("data-list"),b=(0,a.up)("pagination");return(0,a.wg)(),(0,a.iD)("div",r,[(0,a._)("div",n,[(0,a._)("div",l,[(0,a._)("div",o,[(0,a.Wm)(f,{modelValue:p.selectedColumn,"onUpdate:modelValue":t[0]||(t[0]=e=>p.selectedColumn=e),options:p.options.columns},{default:(0,a.w5)((()=>[c])),_:1},8,["modelValue","options"])]),(0,a._)("div",d,[(0,a.Wm)(f,{modelValue:p.selectedCondition,"onUpdate:modelValue":t[1]||(t[1]=e=>p.selectedCondition=e),options:p.options.conditions},{default:(0,a.w5)((()=>[u])),_:1},8,["modelValue","options"]),(0,a.Wm)(g,{modelValue:p.searchQuery,"onUpdate:modelValue":t[2]||(t[2]=e=>p.searchQuery=e)},{default:(0,a.w5)((()=>[m])),_:1},8,["modelValue"])])]),(0,a.Wm)(_,{columns:p.options.columns,tableItems:h.filteredItems,isItemsLoading:p.isItemsLoading,onUpdateSort:h.sortedItems},null,8,["columns","tableItems","isItemsLoading","onUpdateSort"]),(0,a.Wm)(b,{pages:p.totalPages,page:p.page,onUpdatePage:h.changePage},null,8,["pages","page","onUpdatePage"])])])}var h=s(7139);const f={class:"table"},g={class:"table-head__tr"},_=["onClick"],b={key:1};function v(e,t,s,r,n,l){const o=(0,a.up)("table-item");return(0,a.wg)(),(0,a.iD)("table",f,[(0,a._)("thead",null,[(0,a._)("tr",g,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(s.columns,(t=>((0,a.wg)(),(0,a.iD)("th",{class:(0,h.C_)(["table-head__th",{date:"Дата"===t,title:"Название"===t,stock:"Количество"===t,distance:"Расстояние"===t}]),scope:"col",onClick:s=>e.$emit("updateSort",t)},(0,h.zw)(t),11,_)))),256))])]),(0,a.Wm)(i.uT,{name:"component-fade",mode:"out-in"},{default:(0,a.w5)((()=>[(0,a._)("tbody",null,[s.isItemsLoading?((0,a.wg)(),(0,a.iD)("div",b,"Идет загрузка...")):((0,a.wg)(),(0,a.j4)(i.W3,{key:0,name:"item-list"},{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(s.tableItems,(e=>((0,a.wg)(),(0,a.j4)(o,{tableItem:e,key:e.id},null,8,["tableItem"])))),128))])),_:1}))])])),_:1})])}const I={class:"table-item"},w={class:"table-item__date table-item__field"},y={class:"table-item__name table-item__field"},k={class:"table-item__count table-item__field"},S={class:"table-item__distance table-item__field"};function C(e,t,s,i,r,n){return(0,a.wg)(),(0,a.iD)("tr",I,[(0,a._)("td",w,(0,h.zw)(s.tableItem.id),1),(0,a._)("td",y,(0,h.zw)(s.tableItem.title),1),(0,a._)("td",k,(0,h.zw)(s.tableItem.stock),1),(0,a._)("td",S,(0,h.zw)(s.tableItem.rating),1)])}var D={props:{tableItem:{type:Object,required:!0}}},O=s(89);const V=(0,O.Z)(D,[["render",C],["__scopeId","data-v-6dc8d91d"]]);var A=V,x={props:{columns:{type:Array,required:!0},tableItems:{type:Array,required:!0},isItemsLoading:{type:Boolean,required:!0}},components:{TableItem:A},methods:{}};const L=(0,O.Z)(x,[["render",v],["__scopeId","data-v-0447e662"]]);var P=L;const Q={class:"pages__wrapper"},j=["onClick"];function N(e,t,s,i,r,n){return(0,a.wg)(),(0,a.iD)("div",Q,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(s.pages,(t=>((0,a.wg)(),(0,a.iD)("button",{class:(0,h.C_)(["page",{current__page:s.page===t}]),key:t,onClick:s=>e.$emit("updatePage",t)},(0,h.zw)(t),11,j)))),128))])}var T={props:{pages:{type:Number,required:!0},page:{type:Number,required:!0}}};const U=(0,O.Z)(T,[["render",N],["__scopeId","data-v-54887c96"]]);var W=U,q=s(6265),z=s.n(q),Z={name:"App",components:{DataList:P,Pagination:W},data(){return{tableItems:[],isItemsLoading:!1,page:1,limit:10,totalPages:0,selectedSort:"",selectedColumn:"Дата",selectedCondition:"Содержит",searchQuery:"",options:{columns:["Дата","Название","Количество","Расстояние"],conditions:["Содержит","Равно","Больше","Меньше"]}}},computed:{filteredItems(){switch(this.selectedCondition){case"Содержит":switch(this.selectedColumn){case"Дата":return this.filteredText("id");case"Название":return this.filteredText("title");case"Количество":return this.filteredText("stock");case"Расстояние":return this.filteredText("rating")}break;case"Равно":return this.calculate("Равно");case"Больше":return this.calculate("Больше");case"Меньше":return this.calculate("Меньше")}},filteredAndSortedItems(){return"title"===this.selectedSort?[...this.tableItems].sort(((e,t)=>e[this.selectedSort]?.localeCompare(t[this.selectedSort]))):this.selectedSort&&"title"!==this.selectedSort?[...this.tableItems].sort(((e,t)=>e[this.selectedSort]-t[this.selectedSort])):[...this.tableItems].sort(((e,t)=>e-t))}},methods:{calculate(e){switch(this.selectedColumn){case"Дата":return this.filterNumbers(e,"id");case"Название":return this.filteredText("title");case"Количество":return this.filterNumbers(e,"stock");case"Расстояние":return this.filterNumbers(e,"rating")}},sortedItems(e){switch(e){case"Название":this.selectedSort="title";break;case"Количество":this.selectedSort="stock";break;case"Расстояние":this.selectedSort="rating";break}},filteredText(e){return this.includeFilter(e)},filterNumbers(e,t){switch(e){case"Равно":return this.searchQuery?this.filteredAndSortedItems.filter((e=>e[t]===Number(this.searchQuery))):this.filteredAndSortedItems.filter((e=>e));case"Больше":return this.searchQuery?this.filteredAndSortedItems.filter((e=>e[t]>Number(this.searchQuery))):this.filteredAndSortedItems.filter((e=>e));case"Меньше":return this.searchQuery?this.filteredAndSortedItems.filter((e=>e[t]<Number(this.searchQuery))):this.filteredAndSortedItems.filter((e=>e))}},includeFilter(e){return this.searchQuery?this.filteredAndSortedItems.filter((t=>String(t[e]).toLowerCase().includes(this.searchQuery.toLowerCase()))):this.filteredAndSortedItems.filter((e=>e))},async fetchItems(){try{this.isItemsLoading=!0;const e=await z().get("https://dummyjson.com/products",{params:{skip:1===this.page?0:10*this.page,limit:this.limit}});this.tableItems=e.data.products,this.totalPages=e.data.total/10-1}catch(e){alert("Ошибка")}finally{this.isItemsLoading=!1}},changePage(e){this.page=e,this.fetchItems()}},mounted(){this.fetchItems()}};const $=(0,O.Z)(Z,[["render",p]]);var H=$;const K={class:"select__wrapper"},Y={class:"select__title"},F=["value","selected"];function E(e,t,s,i,r,n){return(0,a.wg)(),(0,a.iD)("div",K,[(0,a._)("h3",Y,[(0,a.WI)(e.$slots,"default",{},void 0,!0)]),(0,a._)("select",{class:"select",onChange:t[0]||(t[0]=(...e)=>n.changeOption&&n.changeOption(...e))},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(s.options,((e,t)=>((0,a.wg)(),(0,a.iD)("option",{class:"select__option",value:e,selected:0===t},(0,h.zw)(e),9,F)))),256))],32)])}var B={name:"my-select",props:{modelValue:{type:String,required:!0},options:{type:Array,default:()=>[]}},methods:{changeOption(e){this.$emit("update:modelValue",e.target.value)}}};const M=(0,O.Z)(B,[["render",E],["__scopeId","data-v-760fad6c"]]);var G=M;const J={class:"input__wrapper"},R={class:"input__title"},X=["value"];function ee(e,t,s,i,r,n){return(0,a.wg)(),(0,a.iD)("div",J,[(0,a._)("h3",R,[(0,a.WI)(e.$slots,"default",{},void 0,!0)]),(0,a._)("input",{value:s.modelValue,onInput:t[0]||(t[0]=(...e)=>n.updateInput&&n.updateInput(...e)),class:"input",type:"text"},null,40,X)])}var te={name:"my-input",props:{modelValue:[String,Number]},methods:{updateInput(e){this.$emit("update:modelValue",e.target.value)}}};const se=(0,O.Z)(te,[["render",ee],["__scopeId","data-v-1140f7a8"]]);var ie=se,ae=[G,ie];const re=(0,i.ri)(H);ae.forEach((e=>{re.component(e.name,e)})),re.mount("#app")}},t={};function s(i){var a=t[i];if(void 0!==a)return a.exports;var r=t[i]={exports:{}};return e[i](r,r.exports,s),r.exports}s.m=e,function(){var e=[];s.O=function(t,i,a,r){if(!i){var n=1/0;for(d=0;d<e.length;d++){i=e[d][0],a=e[d][1],r=e[d][2];for(var l=!0,o=0;o<i.length;o++)(!1&r||n>=r)&&Object.keys(s.O).every((function(e){return s.O[e](i[o])}))?i.splice(o--,1):(l=!1,r<n&&(n=r));if(l){e.splice(d--,1);var c=a();void 0!==c&&(t=c)}}return t}r=r||0;for(var d=e.length;d>0&&e[d-1][2]>r;d--)e[d]=e[d-1];e[d]=[i,a,r]}}(),function(){s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,{a:t}),t}}(),function(){s.d=function(e,t){for(var i in t)s.o(t,i)&&!s.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};s.O.j=function(t){return 0===e[t]};var t=function(t,i){var a,r,n=i[0],l=i[1],o=i[2],c=0;if(n.some((function(t){return 0!==e[t]}))){for(a in l)s.o(l,a)&&(s.m[a]=l[a]);if(o)var d=o(s)}for(t&&t(i);c<n.length;c++)r=n[c],s.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return s.O(d)},i=self["webpackChunkvue_tables"]=self["webpackChunkvue_tables"]||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))}();var i=s.O(void 0,[998],(function(){return s(58)}));i=s.O(i)})();
//# sourceMappingURL=app.8ef5809d.js.map